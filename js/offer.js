$(document).ready(function(){$(".offer-box-1").initialize(function(){var pagePath=$(this).attr('data-pagePath');var offersVariant=$("#homepageOffersVariant").val();var uniqueIdArray=new Array();if(localStorage.getItem("uniqueId")!=null||localStorage.getItem("uniqueId")!=undefined){var response=JSON.parse(localStorage.getItem("uniqueId"));if(response){for(var i=0;i<response.ids.length;i++){uniqueIdArray.push(response.ids[i]);}}}if(offersVariant=='Latest Offers'){getList(this);}function getList($this){$.ajax({data:{uniqueId:uniqueIdArray},'url':pagePath+".offerInfo"+".json",'type':'GET','success':function(response){if(response!=null||response.list){if(response.list){responseList(response.list,$this);}}console.log('success');},'error':function(){console.log('Failed to hit the service');}});}function responseList(values,$this){var rawTemp=$('.offersTemplate').html();var compileTemp=Handlebars.compile(rawTemp);var html=compileTemp(values);$($this).find(".homepageofferData").html(html);}$(document).on('click',".redirectionUrl",function(){var URL=$(this).attr("data-href");window.location=URL;});if(offersVariant=='Author Configured'){$(this).find(".offers").hide();var articleCount=parseInt($(this).find(".offers").length);var SessionCountValue=sessionStorage.getItem("countValue");var localCountValue=localStorage.getItem("countValue");SessionCountValue=parseInt(SessionCountValue);localCountValue=parseInt(localCountValue);if(isNaN(SessionCountValue)){if(isNaN(localCountValue)){$(this).find("#1").show();sessionStorage.setItem("countValue",1);localStorage.setItem("countValue",1);}else{if(articleCount==1){$(this).find("#1").show();sessionStorage.setItem("countValue",1);localStorage.setItem("countValue",1);}else if(localCountValue<articleCount){localCountValue=localCountValue+1;sessionStorage.setItem("countValue",localCountValue);localStorage.setItem("countValue",localCountValue);$(this).find("#"+localCountValue).show();}else{$(this).find("#1").show();sessionStorage.setItem("countValue",1);localStorage.setItem("countValue",1);}}}else{sessionStorage.setItem("countValue",SessionCountValue);localStorage.setItem("countValue",SessionCountValue);SessionCountValue=parseInt(SessionCountValue);$(this).find("#"+SessionCountValue).show();}}});}());